"use strict";(self.webpackChunkcode=self.webpackChunkcode||[]).push([[36],{1036:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var a=t(885),s=t(6578),r=t(2791),i=t(1413),o={show:!1,domainname:null,_id:null},c=(0,r.createContext)(),l=function(e,n){return"DELETE_DOMAIN_SHOW"===n.type?(0,i.Z)((0,i.Z)({},e),{},{show:!0},n.payload):(0,i.Z)((0,i.Z)({},e),o)},d=t(6488),u=t(4376),x=t(7763),h=t(8977),m=t(6126),p=t(9109),j=t(184),f=function(){var e=(0,r.useContext)(c),n=e.deleteStatus,t=e.deleteDispatch,s=(0,u.D)(x.X_,{variables:{_id:n._id},update:function(e,n){var t=n.data.deleteDomain,a=e.readQuery({query:d.xE}).listDomain;e.writeQuery({query:d.xE,data:{listDomain:Object.values(a).filter((function(e){return e._id!==t._id}))}})},onCompleted:function(){t({type:"DELETE_DOMAIN_HIDE"})}}),i=(0,a.Z)(s,2),o=i[0],l=i[1],f=function(){return(0,j.jsxs)("div",{className:"text-end",children:[(0,j.jsx)(h.s,{variant:"secondary",label:"ignore",onClick:function(e){return t({type:"DELETE_DOMAIN_HIDE"})},icon:"times"}),"\xa0",(0,j.jsx)(h.s,{variant:"danger",label:"yes",onClick:o,icon:"trash"})]})};return(0,j.jsx)(m.z,{show:n.show,handleClose:function(e){return t({type:"DELETE_DOMAIN_HIDE"})},title:"Delete Domain?",footer:l.loading?(0,j.jsx)(p.O,{}):(0,j.jsx)(f,{}),children:(0,j.jsxs)("p",{className:"text-muted",children:["Do you really want to delete ",(0,j.jsx)("span",{className:"text-dark",children:null===n||void 0===n?void 0:n.domainname})," ?"]})})},D=t(2982),y=JSON.parse('[{"label":"Domain name","id":"domainname","defaultValue":"","required":true,"hint":"Do not add http/https or www"},{"label":"Company name","id":"companyname","defaultValue":"","required":true},{"type":"switch","label":"Do you want a seperate Channel?","id":"has_requested","defaultValue":false},{"label":"Blockchain node name","id":"blockchainnodename","defaultValue":"","required":true,"depend":{"fieldId":"has_requested","value":true}}]'),v=t(5318),N=function(){var e=(0,u.D)(x.RE,{notifyOnNetworkStatusChange:!0,update:function(e,n){var t=n.data.addDomain,a=e.readQuery({query:d.xE}).listDomain;e.writeQuery({query:d.xE,data:{listDomain:[].concat((0,D.Z)(a),[t])}})},onCompleted:function(e){C()}}),n=(0,a.Z)(e,2),t=n[0],s=n[1],i=(0,r.useState)(!1),o=(0,a.Z)(i,2),c=o[0],l=o[1],f=(0,r.useRef)(),N=function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(h.s,{variant:"warning",onClick:function(e){return f.current.resetForm()},icon:"eraser",label:"reset"}),"\xa0",(0,j.jsx)(h.s,{variant:"success",onClick:w,icon:"plus",label:"save"})]})},w=function(){var e=f.current.onSubmit();e&&t({variables:e})},C=function(){l(!c),f.current.resetForm()};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(h.s,{onClick:function(e){return l(!c)},icon:"plus",label:"Add Domain"}),(0,j.jsx)(m.z,{show:c,title:"Create Domain",handleClose:function(e){l(!c),f.current.resetForm()},footer:s.loading?(0,j.jsx)(p.O,{}):(0,j.jsx)(N,{}),children:(0,j.jsx)(v.F,{fields:y,ref:f})})]})},w={show:!1,domainname:null,_id:null},C=(0,r.createContext)(),_=function(e,n){return"APIKey_DOMAIN_SHOW"===n.type?(0,i.Z)((0,i.Z)({},e),{},{show:!0},n.payload):(0,i.Z)((0,i.Z)({},e),w)},E=(0,r.createContext)(),O=function(e,n){return"CODE_DOWNLOAD_SHOW"===n.type},b=function(e){var n=e.row,t=(0,r.useContext)(c).deleteDispatch,a=(0,r.useContext)(C).changeAPIKeyDispatch,s=(0,r.useContext)(E).codeDownloadDispatch;return(0,j.jsxs)("div",{className:"dropdown",children:[(0,j.jsx)("i",{className:"fa fa-ellipsis-v px-2 cursor-pointer","aria-hidden":"true","data-bs-toggle":"dropdown","aria-expanded":"false"}),(0,j.jsx)("ul",{className:"dropdown-menu",children:(0,j.jsxs)("li",{className:"p-0 m-0",children:[(0,j.jsx)("span",{className:"dropdown-item cursor-pointer text-info",onClick:function(e){return s({type:"CODE_DOWNLOAD_SHOW"})},children:"Download Code"}),(0,j.jsx)("span",{className:"dropdown-item cursor-pointer text-info",children:"Statics"}),(0,j.jsx)("span",{className:"dropdown-item cursor-pointer text-warning",onClick:function(e){return a({type:"APIKey_DOMAIN_SHOW",payload:{_id:n._id,domainname:n.domainname}})},children:"Request a new key?"}),(0,j.jsx)("hr",{className:"dropdown-divider"}),(0,j.jsx)("span",{className:"dropdown-item cursor-pointer text-danger",onClick:function(e){return t({type:"DELETE_DOMAIN_SHOW",payload:{_id:n._id,domainname:n.domainname}})},children:"Delete Domain?"})]})})]})},I=t(3504),A=function(e){var n=e.row;return"active"===n.status?(0,j.jsx)(I.OL,{to:n._id,className:"text-decoration-none",children:n.domainname}):(0,j.jsx)("span",{className:"text-decoration-none",children:n.domainname})},k=t(8668),g=function(e){var n=e.row,t=e.count;return(0,j.jsxs)("tr",{className:"text-center",children:[(0,j.jsx)("th",{children:t}),(0,j.jsx)("td",{children:(0,j.jsx)(A,{row:n})}),(0,j.jsx)("td",{children:n.companyname}),(0,j.jsx)("td",{children:n.apikey}),(0,j.jsxs)("td",{children:[(0,j.jsx)("span",{"data-tooltip":(0,k.t)(n.currentdate,"time"),children:(0,j.jsx)("i",{className:"ms-1 cursor-pointer fa fa-clock","aria-hidden":"true"})}),(0,j.jsx)("span",{className:"text-muted ms-1",children:(0,k.t)(n.currentdate,"date")})]}),(0,j.jsx)("td",{className:"text-capitalize ".concat("active"===n.status?"text-success":""),children:n.status}),(0,j.jsx)("td",{className:"text-right",children:"active"===n.status&&(0,j.jsx)(b,{row:n})})]})},P=function(e){var n=e.data,t=e.loading,a=e.error,s=e.onClick;return(0,j.jsxs)("div",{className:"table-responsive",children:[(0,j.jsxs)("table",{className:"table table-hover table-striped",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{className:"text-center",children:[(0,j.jsx)("th",{children:"#"}),(0,j.jsx)("th",{className:"text-capitalize",children:"domain name"}),(0,j.jsx)("th",{className:"text-capitalize",children:"company name"}),(0,j.jsx)("th",{className:"text-uppercase",children:"api key"}),(0,j.jsx)("th",{className:"text-capitalize",children:"date"}),(0,j.jsx)("th",{className:"text-capitalize",children:"Status"}),(0,j.jsx)("th",{children:a&&(0,j.jsx)(h.s,{icon:"refresh",onClick:s})})]})}),(0,j.jsx)("tbody",{children:n&&n.listDomain.map((function(e,n){return(0,j.jsx)(g,{row:e,count:n+1},e._id)}))})]}),t&&(0,j.jsx)(p.O,{})]})},Z=function(){var e=(0,r.useContext)(C),n=e.changeAPIKeyStatus,t=e.changeAPIKeyDispatch,a=function(){return(0,j.jsxs)("div",{className:"text-end",children:[(0,j.jsx)(h.s,{variant:"secondary",label:"No",onClick:function(e){return t({type:"APIKey_DOMAIN_HIDE"})},icon:"times"}),"\xa0",(0,j.jsx)(h.s,{variant:"danger",label:"Yes",onClick:function(e){return t({type:"APIKey_DOMAIN_HIDE"})},icon:"check"})]})};return(0,j.jsx)(m.z,{show:n.show,handleClose:function(e){return t({type:"APIKey_DOMAIN_HIDE"})},title:"Change APIKey",footer:(0,j.jsx)(a,{}),children:(0,j.jsxs)("p",{className:"text-muted",children:["Do you really want to change API-Key for \xa0",(0,j.jsx)("span",{className:"text-dark",children:null===n||void 0===n?void 0:n.domainname})," ? this process is irreversible, and will cahnge once approve by Admin."]})})},S=t(6953),K=t(1734),H=function(){return(0,j.jsx)("code",{children:"Javascript Code"})},q=function(){return(0,j.jsx)("code",{children:"PHP Code"})},z=function(){return(0,j.jsx)("code",{children:"Python Code"})},M=function(){var e=(0,r.useContext)(E),n=e.codeDownloadStatus,t=e.codeDownloadDispatch;return(0,j.jsx)(m.z,{title:"Download Code",show:n,size:"md",handleClose:function(e){return t({type:"CODE_DOWNLOAD_HIDE"})},children:(0,j.jsxs)(S.Z,{defaultActiveKey:"php",id:"uncontrolled-tab-example",className:"mb-3",fill:!0,children:[(0,j.jsx)(K.Z,{eventKey:"php",title:"PHP",children:(0,j.jsx)(q,{})}),(0,j.jsx)(K.Z,{eventKey:"javascript",title:"Javascript",children:(0,j.jsx)(H,{})}),(0,j.jsx)(K.Z,{eventKey:"python",title:"Python",children:(0,j.jsx)(z,{})})]})})},L=function(){var e=(0,r.useReducer)(l,o),n=(0,a.Z)(e,2),t=n[0],i=n[1],u=(0,r.useReducer)(_,w),x=(0,a.Z)(u,2),h=x[0],m=x[1],p=(0,r.useReducer)(O,false),D=(0,a.Z)(p,2),y=D[0],v=D[1],b=(0,s.a)(d.xE),I=b.loading,A=b.error,k=b.data,g=b.refetch;return(0,j.jsx)(c.Provider,{value:{deleteStatus:t,deleteDispatch:i},children:(0,j.jsx)(C.Provider,{value:{changeAPIKeyStatus:h,changeAPIKeyDispatch:m},children:(0,j.jsxs)(E.Provider,{value:{codeDownloadStatus:y,codeDownloadDispatch:v},children:[(0,j.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,j.jsx)("div",{className:"h3",children:"Domains"}),(0,j.jsx)(N,{})]}),(0,j.jsx)(P,{loading:I,error:A,data:k,onClick:function(e){return g({include:[d.xE]})}}),(0,j.jsx)(M,{}),(0,j.jsx)(f,{}),(0,j.jsx)(Z,{})]})})})}}}]);
//# sourceMappingURL=36.972ff773.chunk.js.map